export default async function handler(req, res) {
  if (req.method !== "POST") return res.status(405).json({ error: "Method not allowed" });

  const { mode, aKin, aBeast, aBranch, bKin, bBeast, bBranch, scene } = req.body;

  const textTemplates = {
    work: `ğŸ‰ ${aBeast}${aBranch} ä¸Šå¸ VS ${bBeast || "â€”"}${bBranch || "â€”"} ä¸‹å±¬
é›™å±¤è§’è‰²è¨­å®š
â€¢ ${aBeast}ç‰¹è³ªï¼šå¼·å‹¢æœæ–·ï¼Œé‡è¦–æ•ˆç‡ã€‚
â€¢ ${aBranch}ç‰¹è³ªï¼šæœ‰é‡å¿ƒï¼Œé‡è¦–é•·é è¦åŠƒã€‚
äº’å‹•æ¨¡å¼åˆ†æï¼šä¸Šå¸å¸Œæœ›ç«‹å³è¡Œå‹•ï¼Œä¸‹å±¬é‡è¦–è¨ˆåŠƒã€‚
é«˜å±è¡çªé»ï¼šåŠŸå‹æ­¸å±¬ & åŸ·è¡Œç¯€å¥ã€‚
âœ… é›™å‘æ‡‰å°ç­–ç•¥ï¼šä¸Šå¸çµ¦èˆå°ï¼Œä¸‹å±¬çµ¦é¢å­ã€‚`,
    love: `${aBeast}${aBranch} èˆ‡ ${bBeast || "â€”"}${bBranch || "â€”"} æ„›æƒ…äº’å‹•
â€¢ æƒ…æ„ŸæŒ‡æ•¸ï¼š8/10
â€¢ äº’å‹•æ¨¡å¼ï¼šæµªæ¼« vs ç†æ€§
â€¢ é™·é˜±ï¼šéåº¦ä¾è³´ vs å†·æ·¡
â€¢ æœ€ä½³ç›¸è™•ï¼šä¿æŒå„€å¼æ„Ÿ + æºé€š`,
    sex: `${aBeast}${aBranch} X ${bBeast || "â€”"}${bBranch || "â€”"} æ€§æ„›åˆ†æ
â€¢ æƒ…æ„›æŒ‡æ•¸ï¼š9/10
â€¢ äº’å‹•æ¨¡å¼ï¼šæŒ‘é€—èˆ‡æŒæ§çš„éŠæˆ²
â€¢ æ¨è–¦é«”ä½ï¼šäº¤éŒ¯å¾Œå…¥ / ç¿»è½‰é¨ä¹˜
â€¢ æƒ…è¶£æ¨è–¦ï¼šè•¾çµ²é¦¬ç”² + èªéŸ³æ§åˆ¶ç©å…·`,
    social: `${aBeast}${aBranch} èˆ‡ ${bBeast || "â€”"}${bBranch || "â€”"} äººéš›äº’å‹•
â€¢ é—œéµï¼šä¿¡ä»»èˆ‡èª æ‡‡
â€¢ å®¹æ˜“æ‘©æ“¦ï¼šèª°ä¸»å°å°è©±
â€¢ å»ºè­°ï¼šå…ˆè®šç¾å†å»ºè­°`,
    personality: `${aBeast}${aBranch}ï¼ˆ${aKin}ï¼‰å€‹æ€§åˆ†æ
â€¢ å„ªé»ï¼šæœ‰é ˜å°åŠ›ã€åŸ·è¡ŒåŠ›
â€¢ ç¼ºé»ï¼šæ˜“è¡å‹•ã€è€æ€§ä¸è¶³
â€¢ é©åˆç™¼æ®ï¼šéœ€è¦é€Ÿåº¦èˆ‡è¡Œå‹•çš„å ´åˆ`
  };

  const scores = [7, 8, 6, 9, 7];

  return res.status(200).json({
    text: textTemplates[scene] || "åˆ†æçµæœ",
    scores
  });
}
