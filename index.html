<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ä»™äººæŒ‡è·¯å…­ç¸å€‹æ€§åˆ†æç³»çµ±</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  <style>
    body { background: #f9fafb; color:#1f2937; font-family: "Noto Sans TC", sans-serif; }
    .card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    .progress { height: 20px; border-radius: 10px; overflow: hidden; }
    .progress-bar { height: 100%; width: 0; transition: width 1s ease-in-out; }
    #analysisOutput { white-space: pre-line; }
    .section-title { font-size: 18px; font-weight: bold; margin-top: 16px; }
  </style>
</head>
<body class="p-6">
  <div class="max-w-5xl mx-auto space-y-6">
    <h1 class="text-3xl font-bold text-center text-indigo-600">ä»™äººæŒ‡è·¯ å…­ç¸å€‹æ€§åˆ†æç³»çµ±</h1>

    <!-- åˆ†ææ¨¡å¼ -->
    <div class="card">
      <h2 class="section-title">åˆ†ææ¨¡å¼</h2>
      <div class="flex gap-4">
        <button onclick="setMode('single')" class="px-4 py-2 bg-indigo-500 text-white rounded">å–®äººåˆ†æ</button>
        <button onclick="setMode('double')" class="px-4 py-2 bg-pink-500 text-white rounded">é›™äººåˆ†æ</button>
      </div>
    </div>

    <!-- å–®äºº/é›™äººè¼¸å…¥å€ -->
    <div id="inputArea" class="card space-y-4"></div>

    <!-- æƒ…å¢ƒé¸æ“‡ -->
    <div class="card">
      <h2 class="section-title">æƒ…å¢ƒé¸æ“‡</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
        <button onclick="startAnalysis('personality')" class="bg-blue-500 text-white p-2 rounded">å€‹æ€§åˆ†æ</button>
        <button onclick="startAnalysis('career')" class="bg-green-500 text-white p-2 rounded">è·å ´åˆ†æ</button>
        <button onclick="startAnalysis('love')" class="bg-pink-500 text-white p-2 rounded">æ„›æƒ…åˆ†æ</button>
        <button onclick="startAnalysis('sex')" class="bg-red-500 text-white p-2 rounded">æ€§æ„›åˆ†æ</button>
      </div>
    </div>

    <!-- é€²åº¦æ¢ -->
    <div class="card">
      <h2 class="section-title">åˆ†æé€²åº¦</h2>
      <div class="progress bg-gray-200">
        <div id="progressBar" class="progress-bar bg-indigo-500"></div>
      </div>
      <div id="progressText" class="text-sm mt-1 text-gray-700">0%</div>
    </div>

    <!-- é›·é”åœ– -->
    <div class="card">
      <h2 class="section-title">é›·é”åœ–</h2>
      <canvas id="radarChart" width="400" height="400"></canvas>
    </div>

    <!-- åˆ†æè¼¸å‡º -->
    <div class="card">
      <h2 class="section-title">åˆ†æçµæœ</h2>
      <div id="analysisOutput" class="text-gray-800 text-lg leading-relaxed"></div>
    </div>

    <!-- åˆ—å°èˆ‡PDF -->
    <div class="card flex gap-4">
      <button onclick="window.print()" class="px-4 py-2 bg-indigo-600 text-white rounded">ğŸ–¨ åˆ—å°</button>
      <button onclick="downloadPDF()" class="px-4 py-2 bg-pink-600 text-white rounded">ğŸ“„ ä¸‹è¼‰PDF</button>
    </div>

    <!-- å±¬åäºº & ç¶²å€ (æ”¾æœ€ä¸‹æ–¹) -->
    <div class="card">
      <h2 class="section-title">ç½²åèˆ‡è³‡è¨Š</h2>
      <label class="block">å±¬åäººï¼š
        <input id="userName" class="border p-2 rounded w-full" placeholder="è¼¸å…¥å±¬åäºº">
      </label>
      <label class="block mt-2">ç¶²å€ï¼š
        <input id="userURL" class="border p-2 rounded w-full" placeholder="è¼¸å…¥ç¶²å€">
      </label>
      <button onclick="saveUserInfo()" class="mt-3 px-4 py-2 bg-green-600 text-white rounded">ğŸ’¾ å„²å­˜è³‡è¨Š</button>
    </div>
  </div>

  <script src="analyze.js"></script>
</body>
</html>
