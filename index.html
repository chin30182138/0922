<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>仙人指路六獸個性分析系統</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  <style>
    body { background: #f9fafb; color:#1f2937; font-family: "Noto Sans TC", sans-serif; }
    .card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    .progress { height: 20px; border-radius: 10px; overflow: hidden; }
    .progress-bar { height: 100%; width: 0; transition: width 1s ease-in-out; }
    #analysisOutput { white-space: pre-line; }
    .section-title { font-size: 18px; font-weight: bold; margin-top: 16px; }
  </style>
</head>
<body class="p-6">
  <div class="max-w-5xl mx-auto space-y-6">
    <h1 class="text-3xl font-bold text-center text-indigo-600">仙人指路 六獸個性分析系統</h1>

    <!-- 分析模式 -->
    <div class="card">
      <h2 class="section-title">分析模式</h2>
      <div class="flex gap-4">
        <button onclick="setMode('single')" class="px-4 py-2 bg-indigo-500 text-white rounded">單人分析</button>
        <button onclick="setMode('double')" class="px-4 py-2 bg-pink-500 text-white rounded">雙人分析</button>
      </div>
    </div>

    <!-- 單人/雙人輸入區 -->
    <div id="inputArea" class="card space-y-4"></div>

    <!-- 情境選擇 -->
    <div class="card">
      <h2 class="section-title">情境選擇</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
        <button onclick="startAnalysis('personality')" class="bg-blue-500 text-white p-2 rounded">個性分析</button>
        <button onclick="startAnalysis('career')" class="bg-green-500 text-white p-2 rounded">職場分析</button>
        <button onclick="startAnalysis('love')" class="bg-pink-500 text-white p-2 rounded">愛情分析</button>
        <button onclick="startAnalysis('sex')" class="bg-red-500 text-white p-2 rounded">性愛分析</button>
      </div>
    </div>

    <!-- 進度條 -->
    <div class="card">
      <h2 class="section-title">分析進度</h2>
      <div class="progress bg-gray-200">
        <div id="progressBar" class="progress-bar bg-indigo-500"></div>
      </div>
      <div id="progressText" class="text-sm mt-1 text-gray-700">0%</div>
    </div>

    <!-- 雷達圖 -->
    <div class="card">
      <h2 class="section-title">雷達圖</h2>
      <canvas id="radarChart" width="400" height="400"></canvas>
    </div>

    <!-- 分析輸出 -->
    <div class="card">
      <h2 class="section-title">分析結果</h2>
      <div id="analysisOutput" class="text-gray-800 text-lg leading-relaxed"></div>
    </div>

    <!-- 列印與PDF -->
    <div class="card flex gap-4">
      <button onclick="window.print()" class="px-4 py-2 bg-indigo-600 text-white rounded">🖨 列印</button>
      <button onclick="downloadPDF()" class="px-4 py-2 bg-pink-600 text-white rounded">📄 下載PDF</button>
    </div>

    <!-- 屬名人 & 網址 (放最下方) -->
    <div class="card">
      <h2 class="section-title">署名與資訊</h2>
      <label class="block">屬名人：
        <input id="userName" class="border p-2 rounded w-full" placeholder="輸入屬名人">
      </label>
      <label class="block mt-2">網址：
        <input id="userURL" class="border p-2 rounded w-full" placeholder="輸入網址">
      </label>
      <button onclick="saveUserInfo()" class="mt-3 px-4 py-2 bg-green-600 text-white rounded">💾 儲存資訊</button>
    </div>
  </div>

  <script src="analyze.js"></script>
</body>
</html>
